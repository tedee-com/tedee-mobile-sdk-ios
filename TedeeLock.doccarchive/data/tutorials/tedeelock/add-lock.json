{"sections":[{"chapter":"Add lock to Tedee account","estimatedTimeInMinutes":5,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Here wi will add the lock to Tedee account via Tedee API"}]}],"title":"Add Lock","kind":"hero"},{"tasks":[{"stepsSection":[{"code":"add_lock_01.swift","runtimePreview":null,"type":"step","content":[{"inlineContent":[{"text":"Update add lock data with lock name, activation code and current timezone.","type":"text"}],"type":"paragraph"}],"caption":[],"media":null},{"code":"add_lock_02.swift","runtimePreview":"add_lock_response.png","type":"step","content":[{"inlineContent":[{"type":"text","text":"Prepare and send request."}],"type":"paragraph"}],"caption":[],"media":null},{"code":"add_lock_03.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Extract registration data and return TedeeRegisterLock","type":"text"}]}],"caption":[],"media":null}],"contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"We will use add lock data and we will pass it to the Tedee API to add the lock to the account. In response, we will get data that is needed to register the lock and establish secure connection later."}],"type":"paragraph"}]}],"title":"Add Lock","anchor":"Add-Lock"}],"kind":"tasks"},{"action":{"isActive":true,"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/register-lock","type":"reference","overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}]},"featuredEyebrow":"Tutorial","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"title":"Register Lock","kind":"callToAction"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/tedeelock\/add-lock"]}],"hierarchy":{"paths":[["doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock","doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/$volume","doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account"]],"modules":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Before-You-start","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO"},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code","kind":"task"},{"kind":"task","reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements"},{"sections":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/pak-set-up#Personal-Access-Key","kind":"task"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/pak-set-up"}]},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data","projects":[{"sections":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile","kind":"task"},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number","kind":"task"},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection","kind":"task"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection"},{"sections":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time","kind":"task"},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data","kind":"task"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/get-lock-data"}]},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/add-lock#Add-Lock"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/add-lock"},{"sections":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/register-lock#Register-Lock","kind":"task"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/register-lock"}]},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Secured-connection-with-lock","projects":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/secured-connection","sections":[{"kind":"task","reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate"},{"kind":"task","reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection"}]}]},{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Summary","projects":[{"sections":[{"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/summary#Summary","kind":"task"}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/summary"}]}],"reference":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock"},"schemaVersion":{"patch":0,"minor":3,"major":0},"identifier":{"url":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/add-lock","interfaceLanguage":"swift"},"metadata":{"title":"Add Lock","role":"project","categoryPathComponent":"how-to-add-lock","category":"How to add Lock"},"kind":"project","references":{"doc://tedeelock.TedeeLock/tutorials/TedeeLock/unsecured-connection#Unsecured-connection":{"type":"section","abstract":[{"type":"text","text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add."}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/unsecured-connection#Unsecured-connection","kind":"section","title":"Unsecured connection"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/get-lock-data#Get-lock-data":{"abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data","kind":"section","url":"\/tutorials\/tedeelock\/get-lock-data#Get-lock-data","title":"Get lock data"},"add_lock_03.swift":{"fileName":"addLock.swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func addLockToAccount(addLock: TedeeAddLock) async -> TedeeRegisterLock {","        var addLock = addLock","        addLock.name = \"SDK\"","        addLock.timeZone = TimeZone.current.identifier","        addLock.activationCode = activationCode","        ","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/my\/lock\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"POST\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"Content-Type\")","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pak)\", forHTTPHeaderField: \"Authorization\")","        request.httpBody = try! JSONEncoder().encode(addLock)","        ","        let response = try! await URLSession.shared.data(for: request)","        ","        let responseDictionary = try! JSONSerialization.jsonObject(with: response.0) as! [String: Any]","        let result = responseDictionary[\"result\"] as! [String: Any]","        ","        return TedeeRegisterLock(revision: result[\"revision\"] as! Int,","                                 targetDeviceRevision: result[\"targetDeviceRevision\"] as! Int,","                                 id: result[\"id\"] as! Int,","                                 authPublicKey: result[\"authPublicKey\"] as! String)","    }","}"],"syntax":"swift","highlights":[{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27}],"fileType":"swift","type":"file","identifier":"add_lock_03.swift"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/secured-connection#Secured-connection":{"abstract":[{"type":"text","text":"Here we will make secured connection to the added and registered lock."}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection","kind":"section","title":"Secured connection","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/secured-connection#Secured-connection","type":"section"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/unsecured-connection#Registering-mobile":{"title":"Registering mobile","url":"\/tutorials\/tedeelock\/unsecured-connection#Registering-mobile","role":"pseudoSymbol","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile","type":"section","kind":"section","abstract":[{"type":"text","text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add."}]},"doc://tedeelock.TedeeLock/tutorials/how-to-add-lock/Connect-and-get-lock-data":{"role":"article","type":"topic","abstract":[],"url":"\/tutorials\/how-to-add-lock\/connect-and-get-lock-data","kind":"article","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data","title":"Connect and get lock data"},"add_lock_02.swift":{"syntax":"swift","type":"file","fileType":"swift","highlights":[{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19}],"identifier":"add_lock_02.swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func addLockToAccount(addLock: TedeeAddLock) async -> TedeeRegisterLock {","        var addLock = addLock","        addLock.name = \"SDK\"","        addLock.timeZone = TimeZone.current.identifier","        addLock.activationCode = activationCode","        ","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/my\/lock\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"POST\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"Content-Type\")","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pak)\", forHTTPHeaderField: \"Authorization\")","        request.httpBody = try! JSONEncoder().encode(addLock)","        ","        let response = try! await URLSession.shared.data(for: request)","    }","}"],"fileName":"addLock.swift"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/get-lock-data":{"url":"\/tutorials\/tedeelock\/get-lock-data","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/get-lock-data","title":"Get Lock data","role":"project","type":"topic","abstract":[{"type":"text","text":"Here we will get all necessary data from lock, that are required to add lock to your account."}],"kind":"project","estimatedTime":"5min"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/summary":{"role":"project","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/summary","url":"\/tutorials\/tedeelock\/summary","kind":"project","title":"Summary","type":"topic","estimatedTime":"3min","abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}]},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/add-lock":{"type":"topic","role":"project","abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"title":"Add Lock","estimatedTime":"5min","url":"\/tutorials\/tedeelock\/add-lock","kind":"project","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/add-lock"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/requirements#Activation-code":{"role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/requirements#Activation-code","kind":"section","abstract":[{"type":"text","text":"Here are all the requirements that you need to prepare to be able to complete this tutorial."}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code","type":"section","title":"Activation code"},"doc://tedeelock.TedeeLock/tutorials/how-to-add-lock/Add-lock-to-Tedee-account":{"type":"topic","title":"Add lock to Tedee account","kind":"article","role":"article","url":"\/tutorials\/how-to-add-lock\/add-lock-to-tedee-account","abstract":[],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/pak-set-up":{"kind":"project","estimatedTime":"5min","url":"\/tutorials\/tedeelock\/pak-set-up","type":"topic","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/pak-set-up","role":"project","title":"Personal Access Key","abstract":[{"type":"text","text":"Here we will configure Personal Access Key in "},{"isActive":true,"type":"reference","identifier":"https:\/\/portal.tedee.com"},{"type":"text","text":"."}]},"doc://tedeelock.TedeeLock/tutorials/how-to-add-lock/Before-You-start":{"role":"article","type":"topic","abstract":[],"url":"\/tutorials\/how-to-add-lock\/before-you-start","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Before-You-start","title":"Before You start","kind":"article"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/register-lock#Register-Lock":{"type":"section","role":"pseudoSymbol","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"title":"Register Lock","url":"\/tutorials\/tedeelock\/register-lock#Register-Lock","kind":"section","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/register-lock#Register-Lock"},"add_lock_01.swift":{"highlights":[],"identifier":"add_lock_01.swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func addLockToAccount(addLock: TedeeAddLock) async -> TedeeRegisterLock {","        var addLock = addLock","        addLock.name = \"SDK\"","        addLock.timeZone = TimeZone.current.identifier","        addLock.activationCode = activationCode","    }","}"],"syntax":"swift","type":"file","fileName":"addLock.swift","fileType":"swift"},"https://portal.tedee.com":{"url":"https:\/\/portal.tedee.com","identifier":"https:\/\/portal.tedee.com","type":"link","title":"Tedee Portal","titleInlineContent":[{"type":"text","text":"Tedee Portal"}]},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/requirements#Tedee-account":{"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account","kind":"section","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/requirements#Tedee-account","type":"section","title":"Tedee account","abstract":[{"type":"text","text":"Here are all the requirements that you need to prepare to be able to complete this tutorial."}]},"doc://tedeelock.TedeeLock/tutorials/how-to-add-lock/Summary":{"role":"article","type":"topic","abstract":[],"url":"\/tutorials\/how-to-add-lock\/summary","kind":"article","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Summary","title":"Summary"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/requirements#Tedee-Pro-or-Tedee-GO":{"abstract":[{"type":"text","text":"Here are all the requirements that you need to prepare to be able to complete this tutorial."}],"role":"pseudoSymbol","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","kind":"section","title":"Tedee Pro or Tedee GO","type":"section","url":"\/tutorials\/tedeelock\/requirements#Tedee-Pro-or-Tedee-GO"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/unsecured-connection":{"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection","estimatedTime":"10min","role":"project","abstract":[{"type":"text","text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add."}],"title":"Unsecured Connection","kind":"project","url":"\/tutorials\/tedeelock\/unsecured-connection","type":"topic"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/summary#Summary":{"role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow."}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/summary#Summary","url":"\/tutorials\/tedeelock\/summary#Summary","title":"Summary","type":"section"},"doc://tedeelock.TedeeLock/tutorials/how-to-add-lock/Secured-connection-with-lock":{"role":"article","type":"topic","abstract":[],"url":"\/tutorials\/how-to-add-lock\/secured-connection-with-lock","kind":"article","title":"Secured connection with lock","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock\/Secured-connection-with-lock"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/pak-set-up#Personal-Access-Key":{"role":"pseudoSymbol","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/pak-set-up#Personal-Access-Key","url":"\/tutorials\/tedeelock\/pak-set-up#Personal-Access-Key","kind":"section","type":"section","abstract":[{"text":"Here we will configure Personal Access Key in ","type":"text"},{"isActive":true,"identifier":"https:\/\/portal.tedee.com","type":"reference"},{"text":".","type":"text"}],"title":"Personal Access Key"},"add_lock_response.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/tedeelock.TedeeLock\/add_lock_response.png"}],"type":"image","alt":"Add Lock response","identifier":"add_lock_response.png"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/add-lock#Add-Lock":{"kind":"section","url":"\/tutorials\/tedeelock\/add-lock#Add-Lock","role":"pseudoSymbol","title":"Add Lock","type":"section","abstract":[{"type":"text","text":"Here wi will add the lock to Tedee account via Tedee API"}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/add-lock#Add-Lock"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/register-lock":{"kind":"project","abstract":[{"type":"text","text":"Here we will register the lock, this is required to made secured connection later."}],"url":"\/tutorials\/tedeelock\/register-lock","type":"topic","title":"Register Lock","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/register-lock","role":"project","estimatedTime":"2min"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/secured-connection":{"url":"\/tutorials\/tedeelock\/secured-connection","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/secured-connection","kind":"project","role":"project","title":"Secured Connection","estimatedTime":"5min","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"type":"topic"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/unsecured-connection#Serial-number":{"type":"section","role":"pseudoSymbol","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"title":"Serial number ","url":"\/tutorials\/tedeelock\/unsecured-connection#Serial-number","kind":"section","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number"},"doc://tedeelock.TedeeLock/tutorials/how-to-add-lock":{"role":"overview","abstract":[{"type":"text","text":"This tutorial will show you basic steps that are needed in order to add lock to Tedee account, register the lock device and securely connect to it."}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/how-to-add-lock","url":"\/tutorials\/how-to-add-lock","title":"How to add Lock","kind":"overview","type":"topic"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/get-lock-data#Provide-Signed-date-time":{"kind":"section","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time","type":"section","role":"pseudoSymbol","title":"Provide Signed date time","url":"\/tutorials\/tedeelock\/get-lock-data#Provide-Signed-date-time"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/requirements":{"url":"\/tutorials\/tedeelock\/requirements","title":"Requirements","abstract":[{"type":"text","text":"Here are all the requirements that you need to prepare to be able to complete this tutorial."}],"type":"topic","kind":"project","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/requirements","role":"project","estimatedTime":"5min"},"doc://tedeelock.TedeeLock/tutorials/TedeeLock/secured-connection#Device-Certificate":{"url":"\/tutorials\/tedeelock\/secured-connection#Device-Certificate","abstract":[{"type":"text","text":"Here we will make secured connection to the added and registered lock."}],"role":"pseudoSymbol","identifier":"doc:\/\/tedeelock.TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate","kind":"section","type":"section","title":"Device Certificate"}}}