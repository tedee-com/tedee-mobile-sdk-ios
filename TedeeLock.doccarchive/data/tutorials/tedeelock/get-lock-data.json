{"kind":"project","identifier":{"url":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data","interfaceLanguage":"swift"},"hierarchy":{"modules":[{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Before-You-start","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account","kind":"task"}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up#Personal-Access-Key"}]}]},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection"}],"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data"}]}],"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data"},{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account","projects":[{"sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock#Add-Lock"}],"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock#Register-Lock","kind":"task"}]}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Secured-connection-with-lock","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection"}]}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Summary","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary#Summary"}]}]}],"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock","paths":[["doc:\/\/TedeeLock\/tutorials\/how-to-add-lock","doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/$volume","doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/tedeelock\/get-lock-data"]}],"metadata":{"role":"project","categoryPathComponent":"how-to-add-lock","title":"Get Lock data","category":"How to add Lock"},"sections":[{"estimatedTimeInMinutes":5,"kind":"hero","chapter":"Connect and get lock data","title":"Get Lock data","content":[{"inlineContent":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"type":"paragraph"}]},{"kind":"tasks","tasks":[{"stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TedeeLockManager require signed date time provider."}]}],"caption":[],"media":null,"code":"get_lock_data_01.swift","runtimePreview":null,"type":"step"},{"media":null,"type":"step","runtimePreview":"signed_datetime_response.png","caption":[],"code":"get_lock_data_02.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prepare and send request."}]}]},{"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extract TedeeSignedDateTime from response."}]}],"code":"get_lock_data_03.swift","type":"step","runtimePreview":null,"caption":[]}],"title":"Provide Signed date time","contentSection":[{"mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"text":"We will get signed date time from Tedee API and then provide it to the TedeeLockManager.","type":"text"}]}],"kind":"contentAndMedia"}],"anchor":"Provide-Signed-date-time"},{"anchor":"Get-lock-data","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"text":"We will get add lock data from unsecured connected lock.","type":"text"}]}],"mediaPosition":"trailing"}],"stepsSection":[{"content":[{"inlineContent":[{"type":"text","text":"By passing TedeeSerialNumber of the lock that we have unsecured connection. We can get add lock data"}],"type":"paragraph"}],"code":"get_lock_data_04.swift","runtimePreview":null,"media":null,"type":"step","caption":[]}],"title":"Get lock data"}]},{"kind":"callToAction","abstract":[{"type":"text","text":"Here wi will add the lock to Tedee account via Tedee API"}],"featuredEyebrow":"Tutorial","title":"Add Lock","action":{"type":"reference","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","isActive":true,"overridingTitle":"Get started","overridingTitleInlineContent":[{"text":"Get started","type":"text"}]}}],"schemaVersion":{"major":0,"patch":0,"minor":3},"references":{"get_lock_data_01.swift":{"highlights":[],"fileName":"addLock.swift","identifier":"get_lock_data_01.swift","type":"file","content":["import Foundation","import TedeeLock","","extension AddLock: TedeeSignedDateTimeProvider {","    func dateTime(for serialNumber: TedeeSerialNumber) async throws -> TedeeSignedDateTime {","        ","    }","}"],"fileType":"swift","syntax":"swift"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection#Device-Certificate":{"abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"kind":"section","type":"section","title":"Device Certificate","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate","url":"\/tutorials\/tedeelock\/secured-connection#Device-Certificate","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/how-to-add-lock/Connect-and-get-lock-data":{"type":"topic","kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data","abstract":[],"title":"Connect and get lock data","url":"\/tutorials\/how-to-add-lock\/connect-and-get-lock-data","role":"article"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data":{"role":"project","estimatedTime":"5min","kind":"project","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"type":"topic","url":"\/tutorials\/tedeelock\/get-lock-data","title":"Get Lock data","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data"},"doc://TedeeLock/tutorials/TedeeLock/summary":{"role":"project","estimatedTime":"3min","kind":"project","type":"topic","abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}],"url":"\/tutorials\/tedeelock\/summary","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary","title":"Summary"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Tedee-account":{"role":"pseudoSymbol","kind":"section","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"type":"section","url":"\/tutorials\/tedeelock\/requirements#Tedee-account","title":"Tedee account","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Tedee-Pro-or-Tedee-GO":{"role":"pseudoSymbol","kind":"section","type":"section","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"url":"\/tutorials\/tedeelock\/requirements#Tedee-Pro-or-Tedee-GO","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","title":"Tedee Pro or Tedee GO"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data#Get-lock-data":{"role":"pseudoSymbol","kind":"section","type":"section","title":"Get lock data","url":"\/tutorials\/tedeelock\/get-lock-data#Get-lock-data","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}]},"doc://TedeeLock/tutorials/TedeeLock/register-lock":{"role":"project","estimatedTime":"2min","kind":"project","type":"topic","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"url":"\/tutorials\/tedeelock\/register-lock","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock","title":"Register Lock"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Activation-code":{"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code","title":"Activation code","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"type":"section","kind":"section","url":"\/tutorials\/tedeelock\/requirements#Activation-code","role":"pseudoSymbol"},"signed_datetime_response.png":{"alt":"Signed Datetime response","type":"image","identifier":"signed_datetime_response.png","variants":[{"url":"\/images\/signed_datetime_response.png","traits":["1x","light"]}]},"doc://TedeeLock/tutorials/how-to-add-lock":{"role":"overview","kind":"overview","type":"topic","abstract":[{"type":"text","text":"This tutorial will show you basic steps that are needed in order to add lock to Tedee account, register the lock device and securely connect to it."}],"url":"\/tutorials\/how-to-add-lock","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock","title":"How to add Lock"},"get_lock_data_03.swift":{"highlights":[{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18}],"fileName":"addLock.swift","identifier":"get_lock_data_03.swift","type":"file","content":["import Foundation","import TedeeLock","","extension AddLock: TedeeSignedDateTimeProvider {","    func dateTime(for serialNumber: TedeeSerialNumber) async throws -> TedeeSignedDateTime {","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/datetime\/getsignedtime\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"GET\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pak)\", forHTTPHeaderField: \"Authorization\")","        ","        let response = try! await URLSession.shared.data(for: request)","        ","        let responseDictionary = try! JSONSerialization.jsonObject(with: response.0) as! [String: Any]","        let result = responseDictionary[\"result\"] as! [String: String]","        ","        return TedeeSignedDateTime(datetime: result[\"datetime\"]!,","                                   signature: result[\"signature\"]!)","    }","}"],"fileType":"swift","syntax":"swift"},"doc://TedeeLock/tutorials/TedeeLock/add-lock":{"title":"Add Lock","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","role":"project","abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"url":"\/tutorials\/tedeelock\/add-lock","kind":"project","type":"topic","estimatedTime":"5min"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection#Secured-connection":{"title":"Secured connection","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection","type":"section","url":"\/tutorials\/tedeelock\/secured-connection#Secured-connection","kind":"section","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Unsecured-connection":{"role":"pseudoSymbol","kind":"section","type":"section","abstract":[{"type":"text","text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add."}],"url":"\/tutorials\/tedeelock\/unsecured-connection#Unsecured-connection","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection","title":"Unsecured connection"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection":{"estimatedTime":"5min","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection","type":"topic","url":"\/tutorials\/tedeelock\/secured-connection","title":"Secured Connection","role":"project","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"kind":"project"},"get_lock_data_04.swift":{"fileName":"addLock.swift","type":"file","content":["import Foundation","import TedeeLock","","class AddLock {","    func getAddLockData(serialNumber: TedeeSerialNumber) async -> TedeeAddLock {","        try! await TedeeLockManager.shared.getAddLockData(serialNumber)","    }","}"],"identifier":"get_lock_data_04.swift","fileType":"swift","highlights":[],"syntax":"swift"},"doc://TedeeLock/tutorials/how-to-add-lock/Before-You-start":{"kind":"article","role":"article","title":"Before You start","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Before-You-start","url":"\/tutorials\/how-to-add-lock\/before-you-start","abstract":[],"type":"topic"},"get_lock_data_02.swift":{"highlights":[{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":12}],"fileType":"swift","identifier":"get_lock_data_02.swift","syntax":"swift","type":"file","fileName":"addLock.swift","content":["import Foundation","import TedeeLock","","extension AddLock: TedeeSignedDateTimeProvider {","    func dateTime(for serialNumber: TedeeSerialNumber) async throws -> TedeeSignedDateTime {","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/datetime\/getsignedtime\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"GET\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pak)\", forHTTPHeaderField: \"Authorization\")","        ","        let response = try! await URLSession.shared.data(for: request)","    }","}"]},"doc://TedeeLock/tutorials/TedeeLock/summary#Summary":{"title":"Summary","abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}],"type":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary#Summary","url":"\/tutorials\/tedeelock\/summary#Summary","kind":"section","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/TedeeLock/register-lock#Register-Lock":{"url":"\/tutorials\/tedeelock\/register-lock#Register-Lock","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"role":"pseudoSymbol","kind":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock#Register-Lock","type":"section","title":"Register Lock"},"doc://TedeeLock/tutorials/TedeeLock/pak-set-up":{"estimatedTime":"5min","kind":"project","role":"project","title":"Personal Access Key","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up","url":"\/tutorials\/tedeelock\/pak-set-up","abstract":[{"text":"Here we will configure Personal Access Key in ","type":"text"},{"identifier":"https:\/\/portal.tedee.com","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"topic"},"doc://TedeeLock/tutorials/how-to-add-lock/Summary":{"title":"Summary","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Summary","role":"article","abstract":[],"url":"\/tutorials\/how-to-add-lock\/summary","kind":"article","type":"topic"},"doc://TedeeLock/tutorials/TedeeLock/requirements":{"url":"\/tutorials\/tedeelock\/requirements","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"estimatedTime":"5min","role":"project","kind":"project","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements","type":"topic","title":"Requirements"},"doc://TedeeLock/tutorials/TedeeLock/pak-set-up#Personal-Access-Key":{"kind":"section","role":"pseudoSymbol","title":"Personal Access Key","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up#Personal-Access-Key","url":"\/tutorials\/tedeelock\/pak-set-up#Personal-Access-Key","abstract":[{"text":"Here we will configure Personal Access Key in ","type":"text"},{"identifier":"https:\/\/portal.tedee.com","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"section"},"https://portal.tedee.com":{"url":"https:\/\/portal.tedee.com","title":"Tedee Portal","type":"link","identifier":"https:\/\/portal.tedee.com","titleInlineContent":[{"text":"Tedee Portal","type":"text"}]},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection":{"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection","title":"Unsecured Connection","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"estimatedTime":"10min","url":"\/tutorials\/tedeelock\/unsecured-connection","type":"topic","kind":"project","role":"project"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Registering-mobile":{"title":"Registering mobile","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile","role":"pseudoSymbol","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"url":"\/tutorials\/tedeelock\/unsecured-connection#Registering-mobile","kind":"section","type":"section"},"doc://TedeeLock/tutorials/TedeeLock/add-lock#Add-Lock":{"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock#Add-Lock","role":"pseudoSymbol","kind":"section","title":"Add Lock","abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"type":"section","url":"\/tutorials\/tedeelock\/add-lock#Add-Lock"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data#Provide-Signed-date-time":{"title":"Provide Signed date time","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time","role":"pseudoSymbol","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"url":"\/tutorials\/tedeelock\/get-lock-data#Provide-Signed-date-time","kind":"section","type":"section"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Serial-number":{"title":"Serial number ","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"type":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number","url":"\/tutorials\/tedeelock\/unsecured-connection#Serial-number","kind":"section","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/how-to-add-lock/Add-lock-to-Tedee-account":{"url":"\/tutorials\/how-to-add-lock\/add-lock-to-tedee-account","abstract":[],"role":"article","kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account","type":"topic","title":"Add lock to Tedee account"},"doc://TedeeLock/tutorials/how-to-add-lock/Secured-connection-with-lock":{"title":"Secured connection with lock","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Secured-connection-with-lock","role":"article","abstract":[],"url":"\/tutorials\/how-to-add-lock\/secured-connection-with-lock","kind":"article","type":"topic"}}}