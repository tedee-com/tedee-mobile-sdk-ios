{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/How-to-connect-to-the-Lock"},"metadata":{"modules":[{"name":"TedeeLock"}],"title":"How to connect to the Lock?","role":"article","roleHeading":"Article"},"variants":[{"paths":["\/documentation\/tedeelock\/how-to-connect-to-the-lock"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"type":"text","text":"From this article you will know what steps are required to connect to the Lock"}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"Overview"},{"inlineContent":[{"text":"Before you are able to connect with Lock, you need to be able to comunicate with Tedee API and setup required data presented below.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"Mobile Registration","level":3,"anchor":"Mobile-Registration"},{"inlineContent":[{"type":"text","text":"Each instance of the application for each user must be registered in Tedee API. To do that, this sdk generates "},{"identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager\/publicKey","isActive":true,"type":"reference"},{"type":"text","text":" which shouldn’t change until user will delete and reinstall the application."}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Obtain publicKey."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Register mobile by calling ","type":"text"},{"type":"reference","identifier":"https:\/\/api.tedee.com\/swagger\/index.html#\/Mobile\/PostMobile","isActive":true},{"type":"text","text":" endpoint."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Save received id, it will be needed in next section.","type":"text"}]}]}]},{"type":"heading","anchor":"Certificate","text":"Certificate","level":3},{"type":"paragraph","inlineContent":[{"text":"Certificate is required to establish secure bluetooth connection with the Lock. Certificate is issued for specific lock and mobile. To request certificate you need to have id (mobile id) that you received in previous section and device id of the lock that can from ","type":"text"},{"isActive":true,"identifier":"https:\/\/api.tedee.com\/swagger\/index.html#\/Lock\/GetAllLocks","type":"reference"},{"type":"text","text":"."}]},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"text":"Request certificate from ","type":"text"},{"isActive":true,"identifier":"https:\/\/api.tedee.com\/swagger\/index.html#\/DeviceCertificate\/GetCertificateForMobile","type":"reference"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Save the response until the certificate expire."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Create ","type":"text"},{"isActive":true,"identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeCertificate","type":"reference"},{"type":"text","text":" object from received certificate."}]}]}]},{"level":3,"type":"heading","text":"Connection","anchor":"Connection"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Invoke","type":"text"},{"identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager\/connect(_:certificate:keepConnection:)","isActive":true,"type":"reference"},{"type":"text","text":" method with "},{"isActive":true,"type":"reference","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeSerialNumber"},{"type":"text","text":" and "},{"isActive":true,"type":"reference","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeCertificate"},{"text":".","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager\/connect(_:certificate:keepConnection:)","isActive":true},{"text":" will try to find and establish secure connection with the lock for up to 30 sec.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"If connection was unsuccessful or lock was outside of the BLE range, ","type":"text"},{"isActive":true,"identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager\/connect(_:certificate:keepConnection:)","type":"reference"},{"type":"text","text":" will return appropriate error."}],"type":"paragraph"}]}],"type":"orderedList"},{"text":"Example app","type":"heading","level":3,"anchor":"Example-app"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Complete example app can be found "},{"identifier":"https:\/\/github.com\/tedee-com\/tedee-example-ble-ios","isActive":true,"type":"reference"}]}]}],"kind":"article","sections":[],"hierarchy":{"paths":[["doc:\/\/TedeeLock\/documentation\/TedeeLock"],["doc:\/\/TedeeLock\/documentation\/TedeeLock","doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"https://api.tedee.com/swagger/index.html#/DeviceCertificate/GetCertificateForMobile":{"identifier":"https:\/\/api.tedee.com\/swagger\/index.html#\/DeviceCertificate\/GetCertificateForMobile","url":"https:\/\/api.tedee.com\/swagger\/index.html#\/DeviceCertificate\/GetCertificateForMobile","title":"\/my\/devicecertificate\/getformobile","titleInlineContent":[{"text":"\/my\/devicecertificate\/getformobile","type":"text"}],"type":"link"},"https://api.tedee.com/swagger/index.html#/Lock/GetAllLocks":{"titleInlineContent":[{"type":"text","text":"\/my\/lock"}],"title":"\/my\/lock","type":"link","url":"https:\/\/api.tedee.com\/swagger\/index.html#\/Lock\/GetAllLocks","identifier":"https:\/\/api.tedee.com\/swagger\/index.html#\/Lock\/GetAllLocks"},"doc://TedeeLock/documentation/TedeeLock/TedeeSerialNumber":{"abstract":[{"text":"Used for identification of the lock.","type":"text"}],"url":"\/documentation\/tedeelock\/tedeeserialnumber","title":"TedeeSerialNumber","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TedeeSerialNumber"}],"role":"symbol","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeSerialNumber","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"TedeeSerialNumber"}]},"https://api.tedee.com/swagger/index.html#/Mobile/PostMobile":{"identifier":"https:\/\/api.tedee.com\/swagger\/index.html#\/Mobile\/PostMobile","url":"https:\/\/api.tedee.com\/swagger\/index.html#\/Mobile\/PostMobile","title":"\/my\/mobile","titleInlineContent":[{"text":"\/my\/mobile","type":"text"}],"type":"link"},"https://github.com/tedee-com/tedee-example-ble-ios":{"titleInlineContent":[{"type":"text","text":"here"}],"title":"here","type":"link","url":"https:\/\/github.com\/tedee-com\/tedee-example-ble-ios","identifier":"https:\/\/github.com\/tedee-com\/tedee-example-ble-ios"},"doc://TedeeLock/documentation/TedeeLock":{"url":"\/documentation\/tedeelock","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock","kind":"symbol","type":"topic","role":"collection","title":"TedeeLock","abstract":[{"text":"This comprehensive toolkit empowers developers to seamlessly integrate Tedee Lock functionality into their iOS applications. Whether you’re building a smart home app or enhancing access control features, our SDK provides the necessary tools to communicate with and control Tedee locks with ease, leveraging Bluetooth Low Energy (BLE) communication protocol.","type":"text"}]},"doc://TedeeLock/documentation/TedeeLock/TedeeLockManager/connect(_:certificate:keepConnection:)":{"abstract":[{"type":"text","text":"Method to find and connect to the Lock via bluetooth."},{"type":"text","text":" "},{"text":"This method will try to find the device for up to 30 seconds and after that it will failed with notFound error","type":"text"}],"role":"symbol","type":"topic","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager\/connect(_:certificate:keepConnection:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"connect","kind":"identifier"},{"kind":"text","text":"("},{"text":"TedeeSerialNumber","kind":"typeIdentifier","preciseIdentifier":"s:9TedeeLock0A12SerialNumberV"},{"kind":"text","text":", "},{"text":"certificate","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:9TedeeLock0A11CertificateV","kind":"typeIdentifier","text":"TedeeCertificate"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"keepConnection"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"},{"text":") ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"}],"kind":"symbol","url":"\/documentation\/tedeelock\/tedeelockmanager\/connect(_:certificate:keepconnection:)","title":"connect(_:certificate:keepConnection:)"},"doc://TedeeLock/documentation/TedeeLock/TedeeCertificate":{"kind":"symbol","role":"symbol","navigatorTitle":[{"text":"TedeeCertificate","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TedeeCertificate","kind":"identifier"}],"abstract":[],"title":"TedeeCertificate","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeCertificate","url":"\/documentation\/tedeelock\/tedeecertificate","type":"topic"},"doc://TedeeLock/documentation/TedeeLock/TedeeLockManager/publicKey":{"identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager\/publicKey","url":"\/documentation\/tedeelock\/tedeelockmanager\/publickey","title":"publicKey","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"publicKey"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"}],"type":"topic","abstract":[{"text":"Returns public key or generare new one if it wasn’t generated before","type":"text"}],"kind":"symbol","role":"symbol"},"doc://TedeeLock/documentation/TedeeLock/TedeeLockManager":{"type":"topic","identifier":"doc:\/\/TedeeLock\/documentation\/TedeeLock\/TedeeLockManager","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TedeeLockManager"}],"url":"\/documentation\/tedeelock\/tedeelockmanager","navigatorTitle":[{"text":"TedeeLockManager","kind":"identifier"}],"role":"symbol","title":"TedeeLockManager","abstract":[{"type":"text","text":"Main class responsible for connection and communication with the Lock."}],"kind":"symbol"}}}