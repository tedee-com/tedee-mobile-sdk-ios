{"metadata":{"title":"Add Lock","categoryPathComponent":"how-to-add-lock","role":"project","category":"How to add Lock"},"hierarchy":{"paths":[["doc:\/\/TedeeLock\/tutorials\/how-to-add-lock","doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/$volume","doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account"]],"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock","modules":[{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Before-You-start","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account","kind":"task"}]},{"sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up#Personal-Access-Key"}],"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up"}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection"}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data"}]}]},{"projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock#Add-Lock","kind":"task"}]},{"sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock#Register-Lock","kind":"task"}],"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock"}],"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account"},{"projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection"}]}],"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Secured-connection-with-lock"},{"reference":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Summary","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary#Summary"}]}]}]},"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"url":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/tedeelock\/add-lock"]}],"sections":[{"kind":"hero","chapter":"Add lock to Tedee account","estimatedTimeInMinutes":5,"content":[{"inlineContent":[{"type":"text","text":"Here wi will add the lock to Tedee account via Tedee API"}],"type":"paragraph"}],"title":"Add Lock"},{"tasks":[{"title":"Add Lock","anchor":"Add-Lock","contentSection":[{"content":[{"inlineContent":[{"text":"We will use add lock data and we will pass it to the Tedee API to add the lock to the account. In response, we will get data that is needed to register the lock and establish secure connection later.","type":"text"}],"type":"paragraph"}],"kind":"contentAndMedia","mediaPosition":"trailing"}],"stepsSection":[{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Update add lock data with lock name, activation code and current timezone."}]}],"code":"add_lock_01.swift","caption":[],"media":null,"runtimePreview":null},{"caption":[],"media":null,"code":"add_lock_02.swift","type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prepare and send request."}]}],"runtimePreview":"add_lock_response.png"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extract registration data and return TedeeRegisterLock"}]}],"caption":[],"media":null,"code":"add_lock_03.swift","type":"step","runtimePreview":null}]}],"kind":"tasks"},{"title":"Register Lock","kind":"callToAction","action":{"type":"reference","isActive":true,"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock","overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"overridingTitle":"Get started"},"abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"featuredEyebrow":"Tutorial"}],"kind":"project","references":{"doc://TedeeLock/tutorials/TedeeLock/register-lock#Register-Lock":{"url":"\/tutorials\/tedeelock\/register-lock#Register-Lock","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"role":"pseudoSymbol","kind":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock#Register-Lock","type":"section","title":"Register Lock"},"doc://TedeeLock/tutorials/how-to-add-lock/Add-lock-to-Tedee-account":{"url":"\/tutorials\/how-to-add-lock\/add-lock-to-tedee-account","abstract":[],"role":"article","kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Add-lock-to-Tedee-account","type":"topic","title":"Add lock to Tedee account"},"doc://TedeeLock/tutorials/TedeeLock/requirements":{"url":"\/tutorials\/tedeelock\/requirements","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"estimatedTime":"5min","role":"project","kind":"project","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements","type":"topic","title":"Requirements"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection#Device-Certificate":{"abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"kind":"section","type":"section","title":"Device Certificate","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate","url":"\/tutorials\/tedeelock\/secured-connection#Device-Certificate","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Serial-number":{"title":"Serial number ","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"type":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number","url":"\/tutorials\/tedeelock\/unsecured-connection#Serial-number","kind":"section","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/TedeeLock/add-lock#Add-Lock":{"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock#Add-Lock","role":"pseudoSymbol","kind":"section","title":"Add Lock","abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"type":"section","url":"\/tutorials\/tedeelock\/add-lock#Add-Lock"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection":{"estimatedTime":"5min","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection","type":"topic","url":"\/tutorials\/tedeelock\/secured-connection","title":"Secured Connection","role":"project","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"kind":"project"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection":{"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection","title":"Unsecured Connection","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"estimatedTime":"10min","url":"\/tutorials\/tedeelock\/unsecured-connection","type":"topic","kind":"project","role":"project"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data":{"role":"project","estimatedTime":"5min","kind":"project","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"type":"topic","url":"\/tutorials\/tedeelock\/get-lock-data","title":"Get Lock data","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Activation-code":{"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code","title":"Activation code","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"type":"section","kind":"section","url":"\/tutorials\/tedeelock\/requirements#Activation-code","role":"pseudoSymbol"},"add_lock_03.swift":{"type":"file","syntax":"swift","highlights":[{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27}],"fileName":"addLock.swift","fileType":"swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func addLockToAccount(addLock: TedeeAddLock) async -> TedeeRegisterLock {","        var addLock = addLock","        addLock.name = \"SDK\"","        addLock.timeZone = TimeZone.current.identifier","        addLock.activationCode = activationCode","        ","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/my\/lock\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"POST\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"Content-Type\")","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pak)\", forHTTPHeaderField: \"Authorization\")","        request.httpBody = try! JSONEncoder().encode(addLock)","        ","        let response = try! await URLSession.shared.data(for: request)","        ","        let responseDictionary = try! JSONSerialization.jsonObject(with: response.0) as! [String: Any]","        let result = responseDictionary[\"result\"] as! [String: Any]","        ","        return TedeeRegisterLock(revision: result[\"revision\"] as! Int,","                                 targetDeviceRevision: result[\"targetDeviceRevision\"] as! Int,","                                 id: result[\"id\"] as! Int,","                                 authPublicKey: result[\"authPublicKey\"] as! String)","    }","}"],"identifier":"add_lock_03.swift"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection#Secured-connection":{"title":"Secured connection","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection","type":"section","url":"\/tutorials\/tedeelock\/secured-connection#Secured-connection","kind":"section","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/TedeeLock/summary#Summary":{"title":"Summary","abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}],"type":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary#Summary","url":"\/tutorials\/tedeelock\/summary#Summary","kind":"section","role":"pseudoSymbol"},"doc://TedeeLock/tutorials/TedeeLock/register-lock":{"role":"project","estimatedTime":"2min","kind":"project","type":"topic","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"url":"\/tutorials\/tedeelock\/register-lock","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock","title":"Register Lock"},"add_lock_01.swift":{"identifier":"add_lock_01.swift","type":"file","fileName":"addLock.swift","fileType":"swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func addLockToAccount(addLock: TedeeAddLock) async -> TedeeRegisterLock {","        var addLock = addLock","        addLock.name = \"SDK\"","        addLock.timeZone = TimeZone.current.identifier","        addLock.activationCode = activationCode","    }","}"],"syntax":"swift","highlights":[]},"https://portal.tedee.com":{"titleInlineContent":[{"text":"Tedee Portal","type":"text"}],"title":"Tedee Portal","type":"link","identifier":"https:\/\/portal.tedee.com","url":"https:\/\/portal.tedee.com"},"doc://TedeeLock/tutorials/TedeeLock/summary":{"role":"project","estimatedTime":"3min","kind":"project","type":"topic","abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}],"url":"\/tutorials\/tedeelock\/summary","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary","title":"Summary"},"doc://TedeeLock/tutorials/TedeeLock/pak-set-up#Personal-Access-Key":{"kind":"section","role":"pseudoSymbol","title":"Personal Access Key","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up#Personal-Access-Key","url":"\/tutorials\/tedeelock\/pak-set-up#Personal-Access-Key","abstract":[{"text":"Here we will configure Personal Access Key in ","type":"text"},{"identifier":"https:\/\/portal.tedee.com","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"section"},"doc://TedeeLock/tutorials/how-to-add-lock/Secured-connection-with-lock":{"title":"Secured connection with lock","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Secured-connection-with-lock","role":"article","abstract":[],"url":"\/tutorials\/how-to-add-lock\/secured-connection-with-lock","kind":"article","type":"topic"},"doc://TedeeLock/tutorials/TedeeLock/pak-set-up":{"estimatedTime":"5min","kind":"project","role":"project","title":"Personal Access Key","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/pak-set-up","url":"\/tutorials\/tedeelock\/pak-set-up","abstract":[{"text":"Here we will configure Personal Access Key in ","type":"text"},{"identifier":"https:\/\/portal.tedee.com","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"topic"},"doc://TedeeLock/tutorials/TedeeLock/add-lock":{"title":"Add Lock","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","role":"project","abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"url":"\/tutorials\/tedeelock\/add-lock","kind":"project","type":"topic","estimatedTime":"5min"},"add_lock_response.png":{"alt":"Add Lock response","variants":[{"url":"\/images\/add_lock_response.png","traits":["1x","light"]}],"identifier":"add_lock_response.png","type":"image"},"doc://TedeeLock/tutorials/how-to-add-lock/Summary":{"title":"Summary","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Summary","role":"article","abstract":[],"url":"\/tutorials\/how-to-add-lock\/summary","kind":"article","type":"topic"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Registering-mobile":{"title":"Registering mobile","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile","role":"pseudoSymbol","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"url":"\/tutorials\/tedeelock\/unsecured-connection#Registering-mobile","kind":"section","type":"section"},"add_lock_02.swift":{"highlights":[{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19}],"identifier":"add_lock_02.swift","fileType":"swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func addLockToAccount(addLock: TedeeAddLock) async -> TedeeRegisterLock {","        var addLock = addLock","        addLock.name = \"SDK\"","        addLock.timeZone = TimeZone.current.identifier","        addLock.activationCode = activationCode","        ","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/my\/lock\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"POST\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"Content-Type\")","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pak)\", forHTTPHeaderField: \"Authorization\")","        request.httpBody = try! JSONEncoder().encode(addLock)","        ","        let response = try! await URLSession.shared.data(for: request)","    }","}"],"fileName":"addLock.swift","syntax":"swift","type":"file"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data#Provide-Signed-date-time":{"title":"Provide Signed date time","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time","role":"pseudoSymbol","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}],"url":"\/tutorials\/tedeelock\/get-lock-data#Provide-Signed-date-time","kind":"section","type":"section"},"doc://TedeeLock/tutorials/how-to-add-lock/Connect-and-get-lock-data":{"type":"topic","kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Connect-and-get-lock-data","abstract":[],"title":"Connect and get lock data","url":"\/tutorials\/how-to-add-lock\/connect-and-get-lock-data","role":"article"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Tedee-Pro-or-Tedee-GO":{"role":"pseudoSymbol","kind":"section","type":"section","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"url":"\/tutorials\/tedeelock\/requirements#Tedee-Pro-or-Tedee-GO","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","title":"Tedee Pro or Tedee GO"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Unsecured-connection":{"title":"Unsecured connection","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection","role":"pseudoSymbol","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"url":"\/tutorials\/tedeelock\/unsecured-connection#Unsecured-connection","kind":"section","type":"section"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data#Get-lock-data":{"role":"pseudoSymbol","kind":"section","type":"section","title":"Get lock data","url":"\/tutorials\/tedeelock\/get-lock-data#Get-lock-data","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data","abstract":[{"text":"Here we will get all necessary data from lock, that are required to add lock to your account.","type":"text"}]},"doc://TedeeLock/tutorials/how-to-add-lock":{"role":"overview","kind":"overview","type":"topic","abstract":[{"type":"text","text":"This tutorial will show you basic steps that are needed in order to add lock to Tedee account, register the lock device and securely connect to it."}],"url":"\/tutorials\/how-to-add-lock","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock","title":"How to add Lock"},"doc://TedeeLock/tutorials/how-to-add-lock/Before-You-start":{"kind":"article","role":"article","title":"Before You start","identifier":"doc:\/\/TedeeLock\/tutorials\/how-to-add-lock\/Before-You-start","url":"\/tutorials\/how-to-add-lock\/before-you-start","abstract":[],"type":"topic"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Tedee-account":{"role":"pseudoSymbol","kind":"section","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"type":"section","url":"\/tutorials\/tedeelock\/requirements#Tedee-account","title":"Tedee account","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account"}}}