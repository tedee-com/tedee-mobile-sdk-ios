{"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"url":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data","interfaceLanguage":"swift"},"hierarchy":{"modules":[{"projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account","kind":"task"}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/api-set-up","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/api-set-up#API-configuration","kind":"task"}]}],"reference":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Before-You-start"},{"projects":[{"sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile","kind":"task"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection"}],"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time","kind":"task"},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data","kind":"task"}]}],"reference":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Connect-and-get-lock-data"},{"reference":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Add-lock-to-Tedee-account","projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock#%3Ctext%3E"}]},{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock","sections":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock#%3Ctext%3E","kind":"task"}]}]},{"projects":[{"sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate"},{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection"}],"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection"}],"reference":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Secured-connection-with-lock"},{"projects":[{"reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary","sections":[{"kind":"task","reference":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary#Summary"}]}],"reference":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Summary"}],"reference":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents","paths":[["doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Connect-and-get-lock-data"]]},"metadata":{"title":"Get Lock data","categoryPathComponent":"Tutorial-Table-of-Contents","category":"How to add Lock","role":"project"},"kind":"project","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/tedeelock\/get-lock-data"]}],"sections":[{"title":"Get Lock data","chapter":"Connect and get lock data","kind":"hero","content":[{"inlineContent":[{"text":"Here we will get all necessary data from lock, that are required to create add lock to your account.","type":"text"}],"type":"paragraph"}]},{"kind":"tasks","tasks":[{"stepsSection":[{"runtimePreview":null,"code":"get_lock_data_01.swift","type":"step","media":null,"content":[{"inlineContent":[{"type":"text","text":"TedeeLockManager require signed date time provider."}],"type":"paragraph"}],"caption":[]},{"runtimePreview":"signed_datetime_response.png","caption":[],"code":"get_lock_data_02.swift","content":[{"inlineContent":[{"type":"text","text":"Prepare and send request."}],"type":"paragraph"}],"type":"step","media":null},{"code":"get_lock_data_03.swift","runtimePreview":null,"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extract TedeeSignedDateTime from response."}]}],"caption":[],"type":"step"}],"contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"inlineContent":[{"text":"We will get signed date time form Tedee API and then provide it to the TedeeLockManager.","type":"text"}],"type":"paragraph"}]}],"anchor":"Provide-Signed-date-time","title":"Provide Signed date time"},{"title":"Get lock data","anchor":"Get-lock-data","stepsSection":[{"media":null,"type":"step","code":"get_lock_data_04.swift","runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"By passing TedeeSerialNumber of the lock that we have unsecured connection. We can get add lock data"}],"type":"paragraph"}]}],"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We will get add lock data from unsecured connected lock."}]}],"kind":"contentAndMedia","mediaPosition":"trailing"}]}]},{"kind":"callToAction","featuredEyebrow":"Tutorial","abstract":[{"type":"text","text":"Here wi will add the lock to Tedee account via Tedee API"}],"title":"Add Lock","action":{"isActive":true,"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"type":"reference"}}],"references":{"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Serial-number":{"abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}],"type":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Serial-number","title":"Serial number ","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/unsecured-connection#Serial-number","kind":"section"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Unsecured-connection":{"kind":"section","title":"Unsecured connection","url":"\/tutorials\/tedeelock\/unsecured-connection#Unsecured-connection","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Unsecured-connection","role":"pseudoSymbol","abstract":[{"type":"text","text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add."}],"type":"section"},"signed_datetime_response.png":{"type":"image","alt":"Signed Datetime response","identifier":"signed_datetime_response.png","variants":[{"url":"\/images\/signed_datetime_response.png","traits":["1x","light"]}]},"doc://TedeeLock/tutorials/TedeeLock/requirements#Tedee-account":{"abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"type":"section","kind":"section","title":"Tedee account","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/requirements#Tedee-account","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-account"},"get_lock_data_03.swift":{"content":["import Foundation","import TedeeLock","","extension AddLock: TedeeSignedDateTimeProvider {","    func dateTime(for serialNumber: TedeeSerialNumber) async throws -> TedeeSignedDateTime {","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/datetime\/getsignedtime\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"GET\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pat)\", forHTTPHeaderField: \"Authorization\")","        ","        let response = try! await URLSession.shared.data(for: request)","        ","        let responseDictionary = try! JSONSerialization.jsonObject(with: response.0) as! [String: Any]","        let result = responseDictionary[\"result\"] as! [String: String]","        ","        return TedeeSignedDateTime(datetime: result[\"datetime\"]!,","                                   signature: result[\"signature\"]!)","    }","}"],"syntax":"swift","type":"file","fileType":"swift","fileName":"addLock.swift","identifier":"get_lock_data_03.swift","highlights":[{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18}]},"doc://TedeeLock/tutorials/Tutorial-Table-of-Contents/Before-You-start":{"kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Before-You-start","type":"topic","title":"Before You start","role":"article","url":"\/tutorials\/tutorial-table-of-contents\/before-you-start","abstract":[]},"doc://TedeeLock/tutorials/Tutorial-Table-of-Contents/Secured-connection-with-lock":{"abstract":[],"role":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Secured-connection-with-lock","type":"topic","title":"Secured connection with lock","url":"\/tutorials\/tutorial-table-of-contents\/secured-connection-with-lock","kind":"article"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Tedee-Pro-or-Tedee-GO":{"role":"pseudoSymbol","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Tedee-Pro-or-Tedee-GO","type":"section","abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"url":"\/tutorials\/tedeelock\/requirements#Tedee-Pro-or-Tedee-GO","kind":"section","title":"Tedee Pro or Tedee GO"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data#Provide-Signed-date-time":{"abstract":[{"text":"Here we will get all necessary data from lock, that are required to create add lock to your account.","type":"text"}],"type":"section","kind":"section","title":"Provide Signed date time","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/get-lock-data#Provide-Signed-date-time","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Provide-Signed-date-time"},"doc://TedeeLock/tutorials/TedeeLock/requirements#Activation-code":{"kind":"section","title":"Activation code","url":"\/tutorials\/tedeelock\/requirements#Activation-code","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements#Activation-code","role":"pseudoSymbol","abstract":[{"type":"text","text":"Here are all the requirements that you need to prepare to be able to complete this tutorial."}],"type":"section"},"get_lock_data_01.swift":{"identifier":"get_lock_data_01.swift","syntax":"swift","fileType":"swift","highlights":[],"type":"file","content":["import Foundation","import TedeeLock","","extension AddLock: TedeeSignedDateTimeProvider {","    func dateTime(for serialNumber: TedeeSerialNumber) async throws -> TedeeSignedDateTime {","        ","    }","}"],"fileName":"addLock.swift"},"doc://TedeeLock/tutorials/TedeeLock/register-lock#%3Ctext%3E":{"kind":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock#%3Ctext%3E","type":"section","title":"<#text#>","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/register-lock#%253Ctext%253E","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}]},"doc://TedeeLock/tutorials/Tutorial-Table-of-Contents/Connect-and-get-lock-data":{"kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Connect-and-get-lock-data","type":"topic","title":"Connect and get lock data","role":"article","url":"\/tutorials\/tutorial-table-of-contents\/connect-and-get-lock-data","abstract":[]},"doc://TedeeLock/tutorials/TedeeLock/secured-connection#Secured-connection":{"kind":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Secured-connection","type":"section","title":"Secured connection","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/secured-connection#Secured-connection","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}]},"get_lock_data_02.swift":{"identifier":"get_lock_data_02.swift","syntax":"swift","fileType":"swift","highlights":[{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":12}],"fileName":"addLock.swift","type":"file","content":["import Foundation","import TedeeLock","","extension AddLock: TedeeSignedDateTimeProvider {","    func dateTime(for serialNumber: TedeeSerialNumber) async throws -> TedeeSignedDateTime {","        let requestURL = URL(string: \"https:\/\/api.tedee.com\/api\/v1.32\/datetime\/getsignedtime\")!","        var request = URLRequest(url: requestURL)","        request.httpMethod = \"GET\"","        request.addValue(\"application\/json\", forHTTPHeaderField: \"accept\")","        request.addValue(\"PersonalKey \\(pat)\", forHTTPHeaderField: \"Authorization\")","        ","        let response = try! await URLSession.shared.data(for: request)","    }","}"]},"doc://TedeeLock/tutorials/TedeeLock/register-lock":{"kind":"project","title":"Register Lock","abstract":[{"text":"Here we will register the lock, this is required to made secured connection later.","type":"text"}],"identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/register-lock","role":"project","url":"\/tutorials\/tedeelock\/register-lock","type":"topic"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection":{"role":"project","type":"topic","kind":"project","estimatedTime":"10min","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection","title":"Unsecured Connection","url":"\/tutorials\/tedeelock\/unsecured-connection","abstract":[{"type":"text","text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add."}]},"doc://TedeeLock/tutorials/TedeeLock/summary#Summary":{"abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}],"type":"section","kind":"section","title":"Summary","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/summary#Summary","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary#Summary"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data#Get-lock-data":{"abstract":[{"text":"Here we will get all necessary data from lock, that are required to create add lock to your account.","type":"text"}],"type":"section","kind":"section","title":"Get lock data","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/get-lock-data#Get-lock-data","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data#Get-lock-data"},"doc://TedeeLock/tutorials/TedeeLock/add-lock":{"abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"role":"project","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock","type":"topic","title":"Add Lock","url":"\/tutorials\/tedeelock\/add-lock","kind":"project"},"doc://TedeeLock/tutorials/Tutorial-Table-of-Contents/Summary":{"kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Summary","type":"topic","title":"Summary","role":"article","url":"\/tutorials\/tutorial-table-of-contents\/summary","abstract":[]},"doc://TedeeLock/tutorials/Tutorial-Table-of-Contents":{"kind":"overview","identifier":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents","type":"topic","title":"How to add Lock","role":"overview","url":"\/tutorials\/tutorial-table-of-contents","abstract":[{"text":"This tutorial will show you basic steps that are needed in order to add lock to Tedee account, register the lock device and securely connect to it.","type":"text"}]},"doc://TedeeLock/tutorials/TedeeLock/api-set-up":{"kind":"project","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/api-set-up","type":"topic","title":"API set up","role":"project","url":"\/tutorials\/tedeelock\/api-set-up","abstract":[{"text":"Here we will configure ","type":"text"},{"type":"reference","identifier":"https:\/\/api.tedee.com\/swagger\/index.html","isActive":true},{"text":" in a way that will be easy to use in next chapters.","type":"text"}]},"doc://TedeeLock/tutorials/TedeeLock/secured-connection":{"abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}],"type":"topic","kind":"project","title":"Secured Connection","role":"project","url":"\/tutorials\/tedeelock\/secured-connection","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection"},"doc://TedeeLock/tutorials/TedeeLock/secured-connection#Device-Certificate":{"kind":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/secured-connection#Device-Certificate","type":"section","title":"Device Certificate","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/secured-connection#Device-Certificate","abstract":[{"text":"Here we will make secured connection to the added and registered lock.","type":"text"}]},"get_lock_data_04.swift":{"type":"file","highlights":[],"syntax":"swift","content":["import Foundation","import TedeeLock","","class AddLock {","    func getAddLockData(serialNumber: TedeeSerialNumber) async -> TedeeAddLock {","        try! await TedeeLockManager.shared.getAddLockData(serialNumber)","    }","}"],"fileType":"swift","identifier":"get_lock_data_04.swift","fileName":"addLock.swift"},"https://api.tedee.com/swagger/index.html":{"identifier":"https:\/\/api.tedee.com\/swagger\/index.html","titleInlineContent":[{"type":"text","text":"Tedee API"}],"url":"https:\/\/api.tedee.com\/swagger\/index.html","type":"link","title":"Tedee API"},"doc://TedeeLock/tutorials/TedeeLock/requirements":{"abstract":[{"text":"Here are all the requirements that you need to prepare to be able to complete this tutorial.","type":"text"}],"type":"topic","kind":"project","title":"Requirements","role":"project","url":"\/tutorials\/tedeelock\/requirements","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/requirements"},"doc://TedeeLock/tutorials/TedeeLock/get-lock-data":{"abstract":[{"text":"Here we will get all necessary data from lock, that are required to create add lock to your account.","type":"text"}],"type":"topic","kind":"project","title":"Get Lock data","role":"project","url":"\/tutorials\/tedeelock\/get-lock-data","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/get-lock-data"},"doc://TedeeLock/tutorials/Tutorial-Table-of-Contents/Add-lock-to-Tedee-account":{"kind":"article","identifier":"doc:\/\/TedeeLock\/tutorials\/Tutorial-Table-of-Contents\/Add-lock-to-Tedee-account","type":"topic","title":"Add lock to Tedee account","role":"article","url":"\/tutorials\/tutorial-table-of-contents\/add-lock-to-tedee-account","abstract":[]},"doc://TedeeLock/tutorials/TedeeLock/add-lock#%3Ctext%3E":{"abstract":[{"text":"Here wi will add the lock to Tedee account via Tedee API","type":"text"}],"type":"section","kind":"section","title":"<#text#>","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/add-lock#%253Ctext%253E","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/add-lock#%3Ctext%3E"},"doc://TedeeLock/tutorials/TedeeLock/summary":{"abstract":[{"text":"Here we will combine all the set up and functions that we prepared previously to achieve add lock flow.","type":"text"}],"role":"project","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/summary","type":"topic","title":"Summary","url":"\/tutorials\/tedeelock\/summary","kind":"project"},"doc://TedeeLock/tutorials/TedeeLock/unsecured-connection#Registering-mobile":{"kind":"section","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/unsecured-connection#Registering-mobile","type":"section","title":"Registering mobile","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/unsecured-connection#Registering-mobile","abstract":[{"text":"Here we will register mobile in Tedee API, we will get serial number of the lock from activation code and then we will make unsecured connection to the lock that we want to add.","type":"text"}]},"doc://TedeeLock/tutorials/TedeeLock/api-set-up#API-configuration":{"abstract":[{"text":"Here we will configure ","type":"text"},{"type":"reference","identifier":"https:\/\/api.tedee.com\/swagger\/index.html","isActive":true},{"text":" in a way that will be easy to use in next chapters.","type":"text"}],"type":"section","kind":"section","title":"API configuration","role":"pseudoSymbol","url":"\/tutorials\/tedeelock\/api-set-up#API-configuration","identifier":"doc:\/\/TedeeLock\/tutorials\/TedeeLock\/api-set-up#API-configuration"}}}